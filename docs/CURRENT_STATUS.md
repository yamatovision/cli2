# AppGenius 開発方法論リファクタリング計画

## 1. 基本情報

- **スコープID**: DEV-METHOD-REFACTOR
- **優先度**: 高
- **担当**: 開発方法論リファクタリングチーム
- **ステータス**: 進行中 (30% 完了)
- **開始日**: 2025-05-05
- **目標完了日**: 2025-05-15
- **前提条件**: 既存の開発方法論の理解

## 2. 実装概要

AppGenius の複数 AI エージェントによる開発方法論を、より効率的かつシームレスな協働を実現するためにリファクタリングします。モックアップ中心のアプローチをさらに強化し、各エージェントの責任範囲を明確化するとともに、ドキュメント管理システムを最適化します。

## 3. 参照ドキュメント

- **現行開発方法論**: [developmentway.md](/docs/prompts/developmentway.md)
- **改善版開発方法論**: [improved_developmentway.md](/docs/refactoring/improved_developmentway.md)
- **要件定義テンプレート**: [ideal_requirements_template.md](/docs/prompts/ideal_requirements_template.md)
- **現況文書テンプレート**: [ideal_current_status_template.md](/docs/prompts/ideal_current_status_template.md)
- **プロンプトカード**: [promptCards.js](/media/components/promptCards/promptCards.js)
- **リファクタリング検討プロセス**: [developmentConversation.md](/docs/refactoring/developmentConversation.md)
- **統合要件・アーキテクチャエージェント**: [integrated_requirements_architecture_agent.md](/docs/prompts/integrated_requirements_architecture_agent.md)

## 4. 依存関係

- **前提となる機能**: 既存の15個のAIエージェントプロンプト
- **影響を与える機能**: プロジェクト全体の開発フロー、ドキュメント管理
- **外部サービス依存**: Claude API

## 5. 変更フロー

```
[既存の開発方法論] → [分析と課題特定] → [新エージェント構成の設計] → [ドキュメント管理の最適化] → [各エージェントプロンプトの更新] → [developmentway.md更新] → [検証とテスト]
```

## 6. タスクリスト

### A. 分析と設計フェーズ

- [x] **A-1**: 既存の開発方法論とエージェント構成の分析
  - 完了日: 2025-05-05
  - 分析結果: 15個のエージェントによる開発フロー、改善点を特定

- [x] **A-2**: ドキュメント管理システムの設計
  - 完了日: 2025-05-05
  - 成果物: 要件定義テンプレートと現況文書テンプレートの作成

- [x] **A-3**: 新エージェント構成の設計
  - 完了日: 2025-05-05
  - 成果物: エージェント分割案、新規エージェント定義

### B. プロンプト更新フェーズ

- [ ] **B-1**: 要件・アーキテクチャ統合エージェント「プロジェクトファウンデーション」の作成
  - 目標: 2025-05-07
  - 内容:
    - 要件定義エージェント (#1) とシステムアーキテクチャエージェント (#2) の統合
    - ideal_requirements_template.md に準拠したフォーマット生成
    - 初期ディレクトリ構造設計の責任を明確化
    - モックアップ中心アプローチのプロセス化
    - 成果物: [integrated_requirements_architecture_agent.md](/docs/prompts/integrated_requirements_architecture_agent.md)

- [ ] **B-3**: モックアップエージェント (#3) のプロンプト更新
  - 目標: 2025-05-08
  - 更新内容:
    - APIデータ要件の抽出プロセスの強化
    - コンポーネント再利用性の向上
    - 他エージェントとの連携ポイントの明確化

- [ ] **B-4**: APIエージェントの新規作成
  - 目標: 2025-05-08
  - 内容:
    - モックアップに基づくAPI仕様書作成プロセス
    - RESTful設計原則の適用
    - モックAPIレスポンス生成機能

- [ ] **B-5**: データモデルエージェントの再設計
  - 目標: 2025-05-09
  - 内容:
    - 既存の統合・精査エージェント (#4, #5) の統合
    - モックアップからのエンティティ抽出プロセスの最適化
    - データベース設計ガイドラインの追加

- [ ] **B-6**: 要件定義統合エージェントの新規作成
  - 目標: 2025-05-09
  - 内容:
    - モックアップ完了後の要件再統合プロセス
    - 最終ディレクトリ構造の設計
    - 実装優先順位の決定ロジック

- [ ] **B-7**: 実装タスク分析エージェント (#10) のプロンプト更新
  - 目標: 2025-05-10
  - 更新内容:
    - CURRENT_STATUS.md 生成機能の追加
    - 依存関係分析の強化
    - タスク分解の粒度最適化

- [ ] **B-8**: 追加要件マネージャー「チェンジディレクター」の新規作成
  - 目標: 2025-05-10
  - 内容:
    - 要件変更分類ロジック
    - エージェント調整プロセス
    - 変更影響分析ツール

- [ ] **B-9**: その他エージェントのプロンプト更新
  - 目標: 2025-05-12
  - 対象:
    - 環境変数収集 (#6)
    - 認証システム (#7)
    - デプロイ設定 (#8)
    - GitHub管理 (#9)
    - スコープ実装 (#11)
    - テスト管理 (#12)
    - デバッグ探偵 (#13)
    - リファクタリング (#15)

### C. ドキュメント更新フェーズ

- [ ] **C-1**: developmentway.md の全面更新
  - 目標: 2025-05-13
  - 更新内容:
    - 新エージェント構成の反映
    - モックアップ中心アプローチの強化
    - ドキュメント管理プロセスの詳細化
    - 追加要件管理プロセスの追加

- [ ] **C-2**: プロンプトカード (promptCards.js) の更新
  - 目標: 2025-05-13
  - 更新内容:
    - 新エージェントの追加
    - 説明文とカテゴリの最適化
    - アイコンの更新

- [ ] **C-3**: メタドキュメントの作成
  - 目標: 2025-05-14
  - 内容:
    - ドキュメント階層と参照関係の可視化
    - 更新ルールの標準化
    - クロスリファレンスシステムの導入

### D. 検証フェーズ

- [ ] **D-1**: 新開発方法論のエンドツーエンドテスト
  - 目標: 2025-05-15
  - 内容:
    - 小規模プロジェクトでの試験運用
    - 各エージェント間の連携検証
    - ドキュメント整合性の確認

- [ ] **D-2**: フィードバック収集と最終調整
  - 目標: 2025-05-15
  - 内容:
    - 試験運用からのフィードバック分析
    - エージェントプロンプトの微調整
    - エッジケースへの対応

## 7. 実装上の注意点

- 各エージェントがコンテキストウィンドウを効率的に使用できるよう設計すること
- エージェント間の引き継ぎポイントを明確に定義すること
- ドキュメント参照の一貫性を保つこと
- 非技術者でも理解しやすい視覚的な要素を重視すること

## 8. 実装状況の更新履歴

- **2025-05-05**: 分析と設計フェーズを完了。タスクリスト作成。
- **2025-05-05**: 要件定義テンプレートと現況文書テンプレートを作成。