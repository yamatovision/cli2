# [プロジェクト名] 要件定義書

**バージョン**: 1.0.0  
**最終更新日**: 2025-05-05  
**ステータス**: 進行中  

## 1. プロジェクト概要

### 1.1 目的と背景

[本プロジェクトが解決する課題と提供する価値の簡潔な説明]

### 1.2 ターゲットユーザー

- [主要ユーザー層1]: [特性と目的]
- [主要ユーザー層2]: [特性と目的]
- [主要ユーザー層3]: [特性と目的]

### 1.3 核となる機能と価値

- [主要機能1]: [提供する価値]
- [主要機能2]: [提供する価値]
- [主要機能3]: [提供する価値]

## 2. 画面一覧

このアプリケーションは以下の画面で構成されます。各画面のモックアップは作成後に詳細化されます。

### 2.1 ページ一覧

| ID | 画面名 | 目的 | 優先度 | モックアップ | 実装状況 |
|----|------|------|-------|------------|---------|
| P-001 | ログイン画面 | ユーザー認証 | 高 | [login.html](/mockups/login.html) | 完了 (100%) |
| P-002 | ダッシュボード | 主要指標閲覧 | 高 | [dashboard.html](/mockups/dashboard.html) | 進行中 (60%) |
| P-003 | ユーザー管理 | ユーザーCRUD | 中 | [user-management.html](/mockups/user-management.html) | 計画中 (0%) |
| P-004 | 設定画面 | アプリ設定管理 | 低 | 未作成 | 未着手 (0%) |
| P-005 | レポート画面 | データ分析 | 中 | 未作成 | 未着手 (0%) |

### 2.2 画面フロー

```
[ログイン画面] → [ダッシュボード] → [ユーザー管理/設定画面/レポート画面]
```

## 3. 画面詳細

### 3.1 ログイン画面 (P-001)

**画面概要**: ユーザーがシステムにアクセスするための認証画面

**含まれる要素**:
- メールアドレス入力フィールド
- パスワード入力フィールド
- ログインボタン
- パスワードリセットリンク

**ユーザーアクション**:
- ログイン情報入力
- パスワードリセット依頼

**モックアップ**: [login.html](/mockups/login.html)

**データ要件**:
- User (email, password, role)

**API要件**:
- `POST /api/v1/auth/login`: ログイン処理
- `POST /api/v1/auth/reset-password`: パスワードリセット

**実装状況**: 完了 (100%)
- [実装スコープ詳細](/docs/scopes/auth-scope.md)

### 3.2 ダッシュボード (P-002)

**画面概要**: ユーザーがシステムの主要指標を一覧で確認できる中央画面

**含まれる要素**:
- サマリーカード (4枚)
- 週次トレンドグラフ
- 最近のアクティビティリスト
- クイックアクションボタン

**ユーザーアクション**:
- データのフィルタリング
- 詳細情報の展開
- アクションの実行

**モックアップ**: [dashboard.html](/mockups/dashboard.html)

**データ要件**:
- DashboardMetrics (summary, trend, activities)
- UserActivity (type, timestamp, details)

**API要件**:
- `GET /api/v1/dashboard/metrics`: ダッシュボード指標取得
- `GET /api/v1/dashboard/activities`: 最近のアクティビティ取得

**実装状況**: 進行中 (60%)
- [実装スコープ詳細](/docs/scopes/dashboard-scope.md)
- **現在の実装フォーカス**: このコンポーネントについては [CURRENT_STATUS.md](/docs/CURRENT_STATUS.md) を参照

[他の画面も同様の形式で記述...]

## 4. 共通コンポーネント

| ID | コンポーネント名 | 用途 | 使用画面 | モックアップ参照 |
|----|--------------|------|----------|---------------|
| C-001 | ヘッダーナビゲーション | アプリ内移動 | 全画面 | dashboard.html#header |
| C-002 | サイドメニュー | 機能選択 | ログイン以外全画面 | dashboard.html#sidemenu |
| C-003 | データテーブル | 一覧表示 | ユーザー管理、レポート | user-management.html#table |
| C-004 | アクションボタングループ | 操作集約 | 全画面 | common-components.html#buttons |

## 5. データモデル概要

モックアップから導出された主要データモデルを以下に示します。詳細は各モデルのドキュメントを参照してください。

### 5.1 主要エンティティ

| エンティティ | 主な属性 | 関連エンティティ | 詳細ドキュメント |
|------------|----------|----------------|-----------------|
| User | id, email, name, role | Organization, Activity | [user-model.md](/docs/data_models/user-model.md) |
| Organization | id, name, settings | User, Report | [org-model.md](/docs/data_models/org-model.md) |
| Dashboard | id, user_id, widgets | User, Metric | [dashboard-model.md](/docs/data_models/dashboard-model.md) |
| Activity | id, user_id, type, data | User | [activity-model.md](/docs/data_models/activity-model.md) |

### 5.2 モデル関連図

詳細なERDについては [data_models/erd.md](/docs/data_models/erd.md) を参照してください。

## 6. API要件概要

モックアップの機能を実現するために必要なAPI一覧です。詳細は各APIドキュメントを参照してください。

### 6.1 認証API

- `POST /api/v1/auth/login`: ユーザーログイン
- `POST /api/v1/auth/register`: ユーザー登録
- `POST /api/v1/auth/refresh`: トークンリフレッシュ

[詳細API仕様書](/docs/api/auth.md)

### 6.2 ダッシュボードAPI

- `GET /api/v1/dashboard/metrics`: ダッシュボード指標取得
- `GET /api/v1/dashboard/activities`: 最近のアクティビティ取得
- `PUT /api/v1/dashboard/layout`: ダッシュボードレイアウト更新

[詳細API仕様書](/docs/api/dashboard.md)

[他のAPIカテゴリも同様の形式で記述...]

## 7. 非機能要件

### 7.1 パフォーマンス要件

- ページロード時間: 3秒以内
- API応答時間: 300ms以内

### 7.2 セキュリティ要件

- HTTPS通信の強制
- ログイン試行制限
- CSRF対策

### 7.3 ユーザビリティ要件

- レスポンシブデザイン (モバイル対応)
- アクセシビリティ対応
- 多言語サポート

## 8. 技術スタック

### 8.1 フロントエンド

- フレームワーク: [技術名]
- UI ライブラリ: [技術名]
- 状態管理: [技術名]

### 8.2 バックエンド

- API: [技術名]
- データベース: [技術名]
- 認証: [技術名]

### 8.3 インフラ

- ホスティング: [技術名]
- CI/CD: [技術名]
- モニタリング: [技術名]

## 9. 開発計画とマイルストーン

| フェーズ | 内容 | 期間 | ステータス |
|---------|------|------|----------|
| フェーズ1 | 要件定義とモックアップ作成 | 2025-03-01 ~ 2025-03-15 | 完了 |
| フェーズ2 | 認証・ダッシュボード実装 | 2025-03-16 ~ 2025-04-15 | 進行中 |
| フェーズ3 | ユーザー管理・設定実装 | 2025-04-16 ~ 2025-05-15 | 未着手 |
| フェーズ4 | レポート機能実装 | 2025-05-16 ~ 2025-05-31 | 未着手 |
| フェーズ5 | テストと品質保証 | 2025-06-01 ~ 2025-06-15 | 未着手 |

## 10. 実装状況概要

| カテゴリ | 画面数 | 完了 | 進行中 | 未着手 | 進捗率 |
|---------|-------|------|-------|-------|-------|
| 認証・ログイン | 1 | 1 | 0 | 0 | 100% |
| ダッシュボード | 1 | 0 | 1 | 0 | 60% |
| ユーザー管理 | 1 | 0 | 0 | 1 | 0% |
| 設定 | 1 | 0 | 0 | 1 | 0% |
| レポート | 1 | 0 | 0 | 1 | 0% |
| **合計** | **5** | **1** | **1** | **3** | **32%** |

## 11. 現在のフォーカス

現在の開発フォーカスはダッシュボード画面(P-002)の実装です。詳細な実装タスクと進捗状況については [CURRENT_STATUS.md](/docs/CURRENT_STATUS.md) を参照してください。

## 12. 添付資料

- [ユーザーペルソナ](/docs/personas.md)
- [競合分析](/docs/competitive-analysis.md)
- [用語集](/docs/glossary.md)

## 13. 変更履歴

| 日付 | バージョン | 変更者 | 変更内容 |
|------|----------|-------|---------|
| 2025-05-05 | 1.0.0 | 要件定義 (#1) | ダッシュボード詳細追加 |
| 2025-04-15 | 0.9.0 | モックアップ作成 (#3) | ダッシュボードモックアップ更新 |
| 2025-04-01 | 0.8.0 | 要件定義 (#1) | 初期バージョン作成 |