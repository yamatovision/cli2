# ファイル命名規約とメタデータ標準

**バージョン**: 1.0.0  
**最終更新日**: 2025-05-15  
**作成者**: ドキュメント構造設計チーム  
**ステータス**: 確定  

## 1. 概要

このドキュメントは、AppGeniusプロジェクト全体で使用するファイル命名規約、ディレクトリ構造、およびメタデータ標準を定義します。これらの規約に従うことで、プロジェクト内のナビゲーションが容易になり、ドキュメントやコード間の参照の一貫性が確保されます。また、AIエージェント間の効率的な協働も促進されます。

## 2. ファイル命名規約

### 2.1 一般原則

1. **シンプルさと明確さ**
   - 短く、意味のある名前を使用する
   - 特殊文字は避け、アルファベット、数字、ハイフン、アンダースコアのみを使用する
   - スペースの代わりにハイフン(`-`)またはキャメルケースを使用する

2. **一貫性**
   - 同じ種類のファイルには同じ命名パターンを適用する
   - 略語の使用は一貫させる（例：`config`か`configuration`かを統一）

3. **検索可能性**
   - グループ化と検索を容易にするため、関連ファイルには共通のプレフィックスを使用する
   - 機能や目的を名前に反映させる

4. **国際化対応**
   - ファイル名は英語のみを使用する
   - 特殊文字やアクセント記号は避ける

### 2.2 ファイルタイプ別命名規則

#### ドキュメントファイル

| ファイルタイプ | 命名パターン | 例 |
|-------------|------------|-----|
| 要件定義 | `requirements.md` | `requirements.md` |
| 現況文書 | `CURRENT_STATUS.md` | `CURRENT_STATUS.md` |
| API仕様 | `[機能]-api.md` | `auth-api.md`, `user-api.md` |
| データモデル | `[エンティティ]-model.md` | `user-model.md`, `team-model.md` |
| 実装ガイド | `[機能]-implementation-guide.md` | `auth-implementation-guide.md` |
| テスト計画 | `[機能]-test-plan.md` | `auth-test-plan.md` |
| スコープ定義 | `[スコープID]-scope.md` | `AUTH-01-scope.md` |
| リファクタリング計画 | `[機能]-refactoring-plan.md` | `api-refactoring-plan.md` |
| 検証報告書 | `[機能]-verification-report.md` | `auth-verification-report.md` |

#### ソースコードファイル

| ファイルタイプ | 命名パターン | 例 |
|-------------|------------|-----|
| React コンポーネント | `[PascalCase].tsx` または `[PascalCase].jsx` | `UserProfile.tsx`, `LoginForm.jsx` |
| TypeScript 型定義 | `[camelCase].types.ts` | `user.types.ts`, `api.types.ts` |
| サービスファイル | `[camelCase].service.ts` | `auth.service.ts`, `api.service.ts` |
| コントローラー | `[camelCase].controller.ts` | `user.controller.ts` |
| ユーティリティ | `[camelCase].utils.ts` | `string.utils.ts`, `date.utils.ts` |
| ルートファイル | `[camelCase].routes.ts` | `auth.routes.ts`, `api.routes.ts` |
| テストファイル | `[元ファイル名].test.ts` または `[元ファイル名].spec.ts` | `auth.service.test.ts` |
| スタイルファイル | `[元コンポーネント名].css` または `[元コンポーネント名].scss` | `UserProfile.css`, `Dashboard.scss` |

#### モックアップファイル

| ファイルタイプ | 命名パターン | 例 |
|-------------|------------|-----|
| ページモックアップ | `[ページ名].html` | `login.html`, `dashboard.html` |
| コンポーネントモックアップ | `[コンポーネント名]-component.html` | `navigation-component.html` |
| モックアップアセット | `[説明]-asset.[拡張子]` | `logo-asset.svg`, `hero-image-asset.png` |

### 2.3 ディレクトリ命名規則

| ディレクトリタイプ | 命名パターン | 例 |
|-----------------|------------|-----|
| ドキュメントディレクトリ | 小文字単数形 | `docs/`, `docs/api/`, `docs/architecture/` |
| ソースコードディレクトリ | キャメルケースまたは小文字単数形 | `src/components/`, `src/services/` |
| テストディレクトリ | `__tests__` または `tests` | `src/components/__tests__/`, `tests/unit/` |
| アセットディレクトリ | 小文字単数形 | `assets/`, `public/images/` |

## 3. ディレクトリ構造規約

### 3.1 最大深度制限

ナビゲーションを容易にするため、ディレクトリの深さは最大3階層までとします：

```
project/
├── docs/                 # 1階層目
│   ├── api/              # 2階層目
│   │   └── auth.md       # 3階層目（ファイル）
│   └── architecture/     # 2階層目
│       └── diagram.png   # 3階層目（ファイル）
├── src/                  # 1階層目
│   ├── components/       # 2階層目
│   │   └── Button.tsx    # 3階層目（ファイル）
│   └── services/         # 2階層目
│       └── api.service.ts # 3階層目（ファイル）
└── mockups/              # 1階層目
    ├── pages/            # 2階層目
    │   └── login.html    # 3階層目（ファイル）
    └── components/       # 2階層目
        └── header.html   # 3階層目（ファイル）
```

### 3.2 ディレクトリタイプと目的

| ディレクトリ | 目的 | 内容 |
|------------|------|------|
| `/docs/` | プロジェクトドキュメント | 要件定義、API仕様、アーキテクチャ文書など |
| `/docs/api/` | API関連ドキュメント | RESTfulエンドポイント、認証、データ交換形式の仕様 |
| `/docs/architecture/` | アーキテクチャドキュメント | システム構造、コンポーネント関係、設計原則 |
| `/docs/deployment/` | デプロイメントドキュメント | 環境設定、デプロイ手順、インフラ情報 |
| `/docs/testing/` | テスト関連ドキュメント | テスト戦略、テストケース、QA計画 |
| `/src/` | ソースコード | アプリケーションのソースコード |
| `/mockups/` | モックアップファイル | HTML/CSSモックアップ、ワイヤーフレーム |
| `/shared/` | 共有定義 | 型定義、定数、共通ユーティリティ |

## 4. メタデータ標準

### 4.1 ドキュメントメタデータ

すべてのMarkdownドキュメントは、以下のメタデータをファイル先頭に含める必要があります：

```markdown
# [ドキュメントタイトル]

**バージョン**: X.Y.Z  
**最終更新日**: YYYY-MM-DD  
**作成者**: [作成者名/チーム名]  
**ステータス**: [ドラフト/レビュー中/確定]  
```

#### バージョン番号規則

- メジャー（X）：大きな構造的変更
- マイナー（Y）：新しい機能や情報の追加
- パッチ（Z）：小さな修正や情報更新

#### ステータス値

- `ドラフト`: 初期作成段階、レビューされていない
- `レビュー中`: 現在レビュープロセス中
- `確定`: レビュー完了、正式文書として承認済み
- `廃止`: 最新でなくなったが参照用に保持

### 4.2 コードファイルメタデータ

すべてのコードファイルは、以下のヘッダーコメントを含める必要があります：

```typescript
/**
 * @file [ファイルの簡単な説明]
 * @description [ファイルの詳細な説明]
 * @module [モジュール名]
 * @version [バージョン]
 * @lastModified [YYYY-MM-DD]
 * @see [関連ファイルへの参照、存在する場合]
 */
```

### 4.3 AIエージェント参照メタデータ

AIエージェントが作成または変更したファイルには、以下のメタデータを含めることで、作成/編集履歴を追跡します：

```markdown
/**
 * @agentContribution
 * - Agent: [エージェント名] (#[エージェント番号])
 * - Date: [YYYY-MM-DD]
 * - Action: [作成/更新/レビュー]
 * - Changes: [変更内容の簡潔な説明]
 */
```

### 4.4 目次と参照リンク

200行を超えるドキュメントには、ファイル先頭に目次を含める必要があります：

```markdown
## 目次

- [1. 概要](#1-概要)
- [2. アーキテクチャ](#2-アーキテクチャ)
- [3. 実装詳細](#3-実装詳細)
```

また、関連ドキュメントへの参照リンクをファイル末尾に含めます：

```markdown
## 関連ドキュメント

- [要件定義](/docs/requirements.md)
- [API仕様](/docs/api/auth-api.md)
- [データモデル](/docs/architecture/user-model.md)
```

## 5. 相互参照規約

### 5.1 ファイル間参照形式

ドキュメント間の参照には、以下の形式を使用します：

1. **ファイル参照**：
   ```markdown
   [リンクテキスト](/path/to/file.md)
   ```

2. **セクション参照**：
   ```markdown
   [リンクテキスト](/path/to/file.md#section-name)
   ```

3. **コード参照**：
   ```markdown
   [型定義](/shared/index.ts#L50-L70)
   ```

### 5.2 タグとキーワード

特定の情報を検索しやすくするため、以下のタグを使用します：

- `@todo` - 将来の作業項目
- `@deprecated` - 非推奨の機能やドキュメント
- `@example` - 使用例
- `@important` - 特に重要な情報
- `@see` - 関連情報への参照

例：
```markdown
@important このAPIはアクセストークンが必要です。

@example
```typescript
const user = await api.getUser(123);
```

@see [認証ガイド](/docs/api/auth-guide.md)
```

## 6. AIエージェント向けのファイル命名・メタデータガイド

### 6.1 AIエージェント固有の命名規則

各AIエージェントが担当する特定のファイルタイプに対する命名規則：

| エージェント | ファイルタイプ | 命名パターン | 例 |
|------------|--------------|------------|-----|
| 要件定義エージェント (#1) | 要件定義 | `requirements.md` | `requirements.md` |
| モックアップクリエイター (#2) | モックアップ | `[ページ名].html` | `login.html` |
| データモデルアーキテクト (#3) | データモデル | `[エンティティ名]-model.md` | `user-model.md` |
| APIデザイナー (#4) | API仕様 | `[機能名]-api.md` | `auth-api.md` |
| スコーププランナー (#5) | スコープ定義 | `CURRENT_STATUS.md` | `CURRENT_STATUS.md` |
| プロジェクト分析エージェント (#10) | 分析レポート | `[分析対象]-analysis.md` | `codebase-analysis.md` |

### 6.2 エージェント間の文書引き継ぎ標準

AIエージェント間で文書を引き継ぐ際の標準フォーマット：

```markdown
## エージェント引き継ぎ情報

**前担当**: [エージェント名] (#[エージェント番号])  
**次担当**: [エージェント名] (#[エージェント番号])  
**引き継ぎ日**: YYYY-MM-DD  
**完了したタスク**:
- [完了タスクの説明]
- [完了タスクの説明]

**未完了タスク**:
- [未完了タスクの説明と進捗状況]
- [未完了タスクの説明と進捗状況]

**注意点・課題**:
- [注意すべき点や課題の説明]
- [注意すべき点や課題の説明]

**参照資料**:
- [参照すべき資料へのリンク]
- [参照すべき資料へのリンク]
```

## 7. ベストプラクティス

### 7.1 ファイル命名のベストプラクティス

- 短く意味のある名前を使用する
- ファイルの内容や目的を名前に反映させる
- 同じ種類のファイルには一貫した命名パターンを使用する
- 特殊文字、スペース、アクセント記号は避ける
- 検索しやすい名前を選ぶ

### 7.2 メタデータ使用のベストプラクティス

- すべてのドキュメントに一貫したメタデータヘッダーを含める
- バージョン番号を適切に更新する
- 最終更新日を必ず記録する
- 大きなドキュメントには目次を含める
- 関連ドキュメントへの参照を常に最新に保つ

### 7.3 AIエージェント向け推奨事項

- 担当範囲のファイルには一貫したフォーマットと命名を使用
- メタデータセクションで自身の貢献を明記
- 変更時には適切にバージョン番号をインクリメント
- 文書間の参照を作成する際は相対パスではなく絶対パスを使用
- 引き継ぎ情報は詳細かつ明確に記録

## 8. 変更履歴

| 日付 | バージョン | 変更者 | 変更内容 |
|------|----------|-------|---------|
| 2025-05-15 | 1.0.0 | ドキュメント構造設計チーム | 初版作成 |

## 9. 関連ドキュメント

- [ドキュメント参照関係の設計](/docs/architecture/document-references.md)
- [ドキュメント参照マップ](/docs/architecture/reference-map.md)
- [参照検証ガイドライン](/docs/architecture/reference-validation.md)
- [理想的ドキュメント構造と開発フロー整備計画](/docs/CURRENT_STATUS.md)