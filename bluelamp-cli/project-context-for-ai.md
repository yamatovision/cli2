# BlueLamp CLI プロジェクトコンテキスト（AI計画策定用）

## プロジェクト概要

BlueLamp CLIは、Claude APIを使用した開発支援CLIツールです。現在は基本的な機能のみ実装されていますが、Anthropic社のClaude Codeと同等の機能を持つツールへと進化させることを目指しています。

## 現在のプロジェクト構造

```
bluelamp-cli/
├── src/
│   ├── index.ts                    # メイン実装（約400行）
│   ├── mockup-analyzer.ts          # モックアップアナライザー用CLI
│   ├── additional-tools.ts         # 追加ツールの実装例
│   └── claude-code-like-init.ts   # 初期化システムの実装例
├── docs/
│   ├── requirements.md             # 基本要件定義
│   └── bluelamp-cli-requirements-v2.md  # 詳細要件と分析
├── dist/                           # ビルド出力
├── package.json                    # 依存関係
└── *.md                           # 各種ドキュメント
```

## 重要な技術的発見

### 1. 連続実行の実現
- Claude APIは標準でツールの連続使用をサポート
- ツール実行結果をメッセージ履歴に追加することで継続可能
- 現在の実装で基本的な連続実行は達成済み

### 2. Claude Codeの核心機能
- 11種類以上のツール
- 初期コンテキストの自動収集
- CLAUDE.mdによるメモリシステム
- dispatch_agentによる並列実行
- 多層セキュリティ

### 3. 実装の容易性
- 基本的なツールは15-30分で実装可能
- Node.jsの標準APIで多くの機能をカバー
- npmパッケージの活用で複雑な処理も簡単に

## 現在の課題

1. **ツール不足**
   - 現在: 4種類（read, write, edit, bash）
   - 目標: 11種類以上

2. **コンテキスト認識**
   - 現在: HTTPプロンプトのみ
   - 目標: 環境・Git・プロジェクト構造の自動認識

3. **並列処理**
   - 現在: 逐次実行のみ
   - 目標: BatchTool, dispatch_agent

4. **メモリシステム**
   - 現在: なし
   - 目標: BLUELAMP.md階層メモリ

## 利用可能なリソース

### 技術スタック
- TypeScript
- Node.js 18+
- Anthropic SDK
- 各種npmパッケージ

### API制約
- Claude API（20万コンテクスト）
- 64000トークン出力
- レート制限考慮必要

### 開発リソース
- 単一開発者想定
- 段階的リリース可能
- オープンソース化も視野

## 成功の定義

1. **機能的成功**
   - Claude Codeの主要機能をカバー
   - 自律的なタスク実行
   - 高い開発生産性

2. **技術的成功**
   - 安定した動作
   - 拡張可能なアーキテクチャ
   - 良好なパフォーマンス

3. **ユーザー体験**
   - 直感的な操作
   - 有用なフィードバック
   - カスタマイズ可能

## 参考情報

### Claude Codeの使用感
- 起動時に環境を自動認識
- タスクを与えると自律的に完了まで実行
- 複雑なタスクを分解して並列処理
- エラー時も自動リカバリ

### BlueLamp CLIの現在の使用感
- シンプルで軽量
- 基本的なファイル操作は問題なし
- 連続実行により複数ステップのタスクも可能
- ただし手動での指示が必要な場面が多い

---

このコンテキスト情報と、`claude-code-migration-instructions.md`の指示に従って、綿密な移行計画を策定してください。