# タスク完了確認機能の削除

## 問題の概要
タスク完了時に「タスクを完了しますか？」という確認プロンプトが繰り返し表示され、システムがバグる問題が発生していました。

## 原因
1. 元のOpenHands実装にはタスク完了時の確認機能はなかった
2. 新たに追加された確認機能が不完全で、以下の問題を引き起こした：
   - `headless_mode`の誤った使用
   - 確認後の状態遷移が正しく実装されていない
   - `confirmation_in_progress`フラグの管理が複雑になりすぎた

## 実施した修正

### 1. agent_controller.py
- `AgentFinishAction`の処理を元の実装に戻した
  - 確認なしで直接`FINISHED`状態に遷移
- `USER_CONFIRMED`と`USER_REJECTED`の処理をコメントアウト

### 2. main.py  
- `AWAITING_USER_CONFIRMATION`状態の処理をコメントアウト
- `confirmation_in_progress`フラグを削除
- `headless_mode=True`に設定（元の実装と同じ）

## 効果
- タスク完了時に確認プロンプトが表示されなくなった
- タスク完了後、自動的に次のタスク入力待ち状態になる
- 繰り返しプロンプトが表示される問題が解決

## 今後の方針
エージェント切り替え確認機能を実装する場合は、以下の点に注意：
1. `headless_mode`とは独立した設定として実装
2. 状態遷移を単純化
3. 非同期処理の順序を保証する仕組みを導入